(window.webpackJsonpfrontend=window.webpackJsonpfrontend||[]).push([[0],{123:function(e,a,t){},201:function(e,a,t){e.exports=t(325)},207:function(e,a,t){},325:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(12),c=t.n(l),o=t(396),i=t(395),s=t(71),u=(t(206),t(207),t(6)),m=t(23),d=t(52),f=(t(123),t(27)),p=t(7),E=t.n(p),h=t(379),g=t(380),v=t(334),b=t(50),y=t(365),I=t(152),S=t(21),C=t(378),j=t(155),O=t.n(j),k=r.a.createContext(),w=k.Provider,x=(k.Consumer,k);t(224).config();var M="0",D="https://example.alwaysdata.net";void 0!==window.BACKEND_PORT?(M=window.BACKEND_PORT,D=window.DEPLOYED_URL):M=Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_BACKEND_PORT;var N="0"===M||void 0===M?D:"http://localhost:"+M;console.log("Using backend at "+N);var P=1,F=2,L=t(362),R=t(149),T=t.n(R),W=t(367),U=t(328),A=t(115),z=t(366),q=t(368),H=t(329);function B(e,a){var t=Object(n.useRef)();Object(n.useEffect)((function(){t.current=e}),[e]),Object(n.useEffect)((function(){if(null!==a){var e=setInterval((function(){t.current()}),a);return function(){return clearInterval(e)}}}),[a])}var V=function(e,a){return parseInt(e,10)===parseInt(a,10)},_=[],J=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;void 0===_.find((function(a){return a.subscriber===e}))&&_.push({subscriber:e,interval:a})},K=function(e){return _=_.filter((function(a){return a.subscriber!==e}))},Y=function(e){_.forEach((function(a){console.log(e,a.interval,e%a.interval==0,a.subscriber),e&&e%a.interval!=0||a.subscriber()}))},G=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=e&&"function"===typeof e;return r.a.useEffect((function(){if(n)return e(),J(e,t),function(){return K(e)}}),a),Y},$=!1,Q=0,X=["Live","Step"];var Z=function(){var e=r.a.useState(!1),a=Object(u.a)(e,2),t=a[0],n=a[1],l=r.a.useRef(null),c=r.a.useState($?0:1),o=Object(u.a)(c,2),i=o[0],s=o[1];B((function(){$&&Y(Q++)}),2e3);var m=function(e,a){$=!!(0===a),s(a),n(!1)},d=function(e){l.current&&l.current.contains(e.target)||n(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{variant:"contained",color:"primary",ref:l,"aria-label":"split button",style:{marginRight:15}},r.a.createElement(y.a,{onClick:function(){Y()},disabled:0===i},X[i]),r.a.createElement(y.a,{color:"primary",size:"small","aria-owns":t?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:function(){n((function(e){return!e}))}},r.a.createElement(T.a,null))),r.a.createElement(z.a,{open:t,anchorEl:l.current,transition:!0,disablePortal:!0},(function(e){var a=e.TransitionProps,t=e.placement;return r.a.createElement(U.a,Object.assign({},a,{style:{transformOrigin:"bottom"===t?"center top":"center bottom"}}),r.a.createElement(A.a,{id:"menu-list-grow"},r.a.createElement(W.a,{onClickAway:d},r.a.createElement(H.a,null,X.map((function(e,a){return r.a.createElement(q.a,{key:e,disabled:2===a,selected:a===i,onClick:function(e){return m(0,a)}},e)}))))))})))},ee=t(151),ae=t(15),te=t(369),ne=t(370),re=t(371),le=t(372),ce=t(373),oe=t(400),ie=t(404),se=t(376),ue=t(401),me=t(377);var de=function(e){var a=e.children,t=(Object(ae.a)(e,["children"]),r.a.useState(!1)),n=Object(u.a)(t,2),l=n[0],c=n[1],o=r.a.useState(F),i=Object(u.a)(o,2),s=i[0],m=i[1],d=r.a.useState([]),f=Object(u.a)(d,2),p=f[0],h=f[1],g=r.a.useState(""),v=Object(u.a)(g,2),b=v[0],I=v[1],S=r.a.useContext(x);function C(){c(!1)}return r.a.useEffect((function(){E.a.get("/users/all/v2",{headers:{token:S}}).then((function(e){var a=e.data;h(a.users)})).catch((function(e){}))}),[S]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{onClick:function(){c(!0)}},a),r.a.createElement(te.a,{open:l,onClose:C,"aria-labelledby":"form-dialog-title"},r.a.createElement(ne.a,{id:"form-dialog-title"},"Set User Permissions"),r.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),e.target[0].value){var a=parseInt(e.target[0].value,10);E.a.post("/admin/userpermission/change/v1",{uId:Number.parseInt(a),permissionId:Number.parseInt(s)},{headers:{token:S}}).then((function(e){console.log(e)})).catch((function(e){}))}}},r.a.createElement(re.a,null,r.a.createElement(le.a,null,"Select a user below to set permissions for this user"),r.a.createElement(ce.a,{container:!0,spacing:2,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(oe.a,{style:{width:"100%"},id:"uId",onChange:function(e){var a=parseInt(e.target.value,10);I(a)},value:b},p.map((function(e,a){return r.a.createElement(q.a,{key:e.uId,value:e.uId},e.nameFirst," ",e.nameLast)})))),r.a.createElement(ce.a,{container:!0,item:!0,justify:"center",alignItems:"center"},r.a.createElement(ie.a,{"aria-label":"position",name:"position",value:s,onChange:function(e){var a=parseInt(e.target.value,10);m(a)},row:!0},r.a.createElement(se.a,{value:F,control:r.a.createElement(ue.a,{color:"primary"}),label:"Member",labelPlacement:"bottom"}),r.a.createElement(se.a,{value:P,control:r.a.createElement(ue.a,{color:"primary"}),label:"Owner",labelPlacement:"bottom"}))))),r.a.createElement(me.a,null,r.a.createElement(y.a,{onClick:C,color:"primary"},"Cancel"),r.a.createElement(y.a,{onClick:C,type:"submit",color:"primary"},"Set")))))};var fe=function(e){var a=e.children,t=(Object(ae.a)(e,["children"]),r.a.useState(!1)),n=Object(u.a)(t,2),l=n[0],c=n[1],o=r.a.useState([]),i=Object(u.a)(o,2),s=i[0],m=i[1],d=r.a.useState(""),f=Object(u.a)(d,2),p=f[0],h=f[1],g=r.a.useContext(x);function v(){c(!1)}return r.a.useEffect((function(){E.a.get("/users/all/v2",{headers:{token:g}}).then((function(e){var a=e.data;m(a.users)})).catch((function(e){}))}),[g]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{onClick:function(){c(!0)}},a),r.a.createElement(te.a,{open:l,onClose:v,"aria-labelledby":"form-dialog-title"},r.a.createElement(ne.a,{id:"form-dialog-title"},"Remove Users"),r.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),e.target[0].value){var a=parseInt(e.target[0].value,10);E.a.delete("/admin/user/remove/v1",{headers:{token:g},params:{uId:Number.parseInt(a)}}).then((function(e){console.log(e)})).catch((function(e){}))}}},r.a.createElement(re.a,null,r.a.createElement(le.a,null,"Select a user below to remove"),r.a.createElement(ce.a,{container:!0,spacing:2,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(oe.a,{style:{width:"100%"},id:"uId",onChange:function(e){var a=parseInt(e.target.value,10);h(a)},value:p},s.map((function(e){return r.a.createElement(q.a,{key:e.uId,value:e.uId},e.nameFirst," ",e.nameLast)})))))),r.a.createElement(me.a,null,r.a.createElement(y.a,{onClick:v,color:"primary"},"Cancel"),r.a.createElement(y.a,{onClick:v,type:"submit",color:"primary"},"Remove")))))};function pe(){var e=r.a.useState(!1),a=Object(u.a)(e,2),t=a[0],n=a[1],l=r.a.useRef(),c=function(){return n(!1)};return r.a.createElement("div",null,r.a.createElement(y.a,{ref:l,"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){return n(!0)},color:"inherit"},"Admin"),r.a.createElement(ee.a,{id:"simple-menu",anchorEl:l.current,keepMounted:!0,open:t,onClose:c},r.a.createElement(de,null,r.a.createElement(q.a,{onClick:c},"Set User Permissions")),r.a.createElement(fe,null,r.a.createElement(q.a,{onClick:c},"Remove Users")),r.a.createElement(q.a,{onClick:c},"Close")))}var Ee=t(179),he=t(16),ge=t(153),ve=t.n(ge),be=Object(I.a)((function(e){return{search:Object(f.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(he.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(he.b)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto",marginRight:e.spacing(2)}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(f.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}})}}));var ye=Object(d.g)((function(e){var a=be(),t=r.a.useState(""),n=Object(u.a)(t,2),l=n[0],c=n[1];return r.a.createElement("form",{onSubmit:function(){return e.history.push("/search/".concat(l))}},r.a.createElement("div",{className:a.search},r.a.createElement("div",{className:a.searchIcon},r.a.createElement(ve.a,null)),r.a.createElement(Ee.a,{placeholder:"Search\u2026",classes:{root:a.inputRoot,input:a.inputInput},inputProps:{"aria-label":"search"},value:l,onChange:function(e){return c(e.target.value)}})))}));function Ie(){var e=r.a.useState(!1),a=Object(u.a)(e,2),t=a[0],n=a[1],l=r.a.useState([]),c=Object(u.a)(l,2),o=c[0],i=c[1],s=r.a.useRef(),d=r.a.useContext(x);r.a.useEffect((function(){E.a.get("/notifications/get/v1",{headers:{token:d}}).then((function(e){var a=e.data;i(a.notifications)})).catch((function(e){}))}),[t,d]);var f=function(){return n(!1)};return r.a.createElement("div",null,r.a.createElement(y.a,{ref:s,"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){return n(!0)},color:"inherit"},"Notifications"),r.a.createElement(ee.a,{id:"simple-menu",anchorEl:s.current,keepMounted:!0,open:t,onClose:f},0===o.length?r.a.createElement("div",null,"\xa0You don't have any notifications.\xa0"):o.map((function(e){return-1===e.dmId?r.a.createElement(q.a,{component:m.b,to:"/channel/".concat(e.channelId)},e.notificationMessage):r.a.createElement(q.a,{component:m.b,to:"/dm/".concat(e.dmId)},e.notificationMessage)})),r.a.createElement(q.a,{onClick:f},"Close")))}var Se=Object(I.a)((function(e){return{appBar:Object(f.a)({marginLeft:240},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)")}),menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},logoutButton:{float:"right"}}}));var Ce=function(e){var a=e.handleMenuToggle,t=void 0===a?function(){}:a,n=Se(),l=Object(S.a)(),c=Object(C.a)(l.breakpoints.up("sm")),o=r.a.useContext(x),i=r.a.useState(!1),s=Object(u.a)(i,2),f=s[0],p=s[1];return f?(E.a.post("/auth/logout/v2",{},{headers:{token:o}}).then((function(e){console.log(e)})).catch((function(e){})),localStorage.removeItem("token"),localStorage.removeItem("uId"),r.a.createElement(d.a,{to:"/login"})):r.a.createElement(h.a,{position:"fixed",className:n.appBar},r.a.createElement(g.a,null,!c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:t,className:n.menuButton},r.a.createElement(O.a,null)),r.a.createElement(m.b,{to:"/",style:{color:"white",textDecoration:"none"}},r.a.createElement(b.a,{variant:"h5",noWrap:!0},"Treats"))),r.a.createElement("div",{variant:"h6",className:n.title}),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(ye,null),r.a.createElement(Z,null),r.a.createElement(Ie,null),r.a.createElement(pe,null),r.a.createElement(y.a,{color:"inherit",className:n.logoutButton,onClick:function(){p(!0)}},"Logout"))))},je=t(11),Oe=t(402),ke=t(405),we=t(381),xe=Object(I.a)((function(e){return{drawer:Object(f.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),drawerPaper:{width:240},toolbar:Object(je.a)(Object(je.a)({},e.mixins.toolbar),{},{display:"flex",alignItems:"center",paddingLeft:e.spacing(2)})}}));var Me=function(e){var a=e.container,t=e.children,n=e.open,l=e.setOpen,c=xe(),o=Object(S.a)();return r.a.createElement("nav",{className:c.drawer,"aria-label":"channels"},r.a.createElement(Oe.a,{smUp:!0,implementation:"css"},r.a.createElement(ke.a,{container:a,variant:"temporary",anchor:"rtl"===o.direction?"right":"left",open:n,onClose:function(){return l(!1)},classes:{paper:c.drawerPaper},ModalProps:{keepMounted:!0}},r.a.createElement("div",{className:c.toolbar}),r.a.createElement(we.a,null),t)),r.a.createElement(Oe.a,{xsDown:!0,implementation:"css"},r.a.createElement(ke.a,{classes:{paper:c.drawerPaper},variant:"permanent",open:!0},r.a.createElement("div",{className:c.toolbar},r.a.createElement(m.b,{to:"/",style:{color:"black",textDecoration:"none"}},r.a.createElement(b.a,{variant:"h5",noWrap:!0},"Treats"))),t)))},De=Object(I.a)((function(e){var a;return{body:(a={},Object(f.a)(a,e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)")}),Object(f.a)(a,"padding",20),a),toolbar:e.mixins.toolbar}}));var Ne=function(e){var a=e.children,t=De();return r.a.createElement("div",{className:t.body},r.a.createElement("div",{className:t.toolbar}),a)};var Pe=function(e){var a=e.menu,t=e.body,n=r.a.useState(!1),l=Object(u.a)(n,2),c=l[0],o=l[1];return r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(Ce,{handleMenuToggle:function(){o((function(e){return!e}))}}),r.a.createElement(Me,{open:c,setOpen:o},a),r.a.createElement(Ne,null,t))},Fe=t(330),Le=t(331),Re=t(382),Te=t(383),We=t(156),Ue=t.n(We);function Ae(e){var a=localStorage.getItem("uId");return null==a&&(a=-1),a}var ze=function(){var e=Ae(r.a.useContext(x));return r.a.createElement(Fe.a,null,r.a.createElement(Le.a,{button:!0,key:"profile",component:m.b,to:"/profile/".concat(e)},r.a.createElement(Re.a,null,r.a.createElement(Ue.a,null)),r.a.createElement(Te.a,{primary:"Profile"})))},qe=t(385),He=t(69),Be=t.n(He),Ve=t(70),_e=t.n(Ve),Je=t(399),Ke=t(384),Ye=t(157),Ge=t.n(Ye),$e=t(158),Qe=t.n($e),Xe=t(95),Ze=t.n(Xe);var ea=function(e){var a=Object.assign({},e),t=r.a.useState(!1),n=Object(u.a)(t,2),l=n[0],c=n[1],o=r.a.useContext(x);function i(){c(!1)}return r.a.createElement("div",null,r.a.createElement(v.a,{size:"small",onClick:function(){c(!0)}},r.a.createElement(Ze.a,null)),r.a.createElement(te.a,{open:l,onClose:i,"aria-labelledby":"form-dialog-title"},r.a.createElement(ne.a,{id:"form-dialog-title"},"Create Channel"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=e.target[0].value,n=!e.target[1].checked;t&&E.a.post("/channels/create/v3",{name:t,isPublic:n},{headers:{token:o}}).then((function(e){console.log(e),a.callback()})).catch((function(e){}))}},r.a.createElement(re.a,null,r.a.createElement(le.a,null,"Complete the form below to create a new channel"),r.a.createElement(ce.a,{container:!0,spacing:2,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(Je.a,{autoFocus:!0,margin:"dense",id:"channelName",label:"Channel Name",name:"channelName",fullWidth:!0})),r.a.createElement(ce.a,{container:!0,item:!0,justify:"center",alignItems:"center"},r.a.createElement(Ge.a,null),r.a.createElement(se.a,{control:r.a.createElement(Ke.a,{value:"secret",inputProps:{"aria-label":"Secret"}}),label:"Secret",labelPlacement:"top"}),r.a.createElement(Qe.a,null)))),r.a.createElement(me.a,null,r.a.createElement(y.a,{onClick:i,color:"primary"},"Cancel"),r.a.createElement(y.a,{onClick:i,type:"submit",color:"primary"},"Create")))))};var aa=function(e){var a=e.channelId,t=r.a.useState([]),n=Object(u.a)(t,2),l=n[0],c=n[1],o=r.a.useState([]),i=Object(u.a)(o,2),s=i[0],d=i[1],f=r.a.useContext(x),p=function(){var e=E.a.get("/channels/list/v3",{headers:{token:f}}),a=E.a.get("/channels/listall/v3",{headers:{token:f}});E.a.all([e,a]).then(E.a.spread((function(e,a){var t=e.data.channels,n=a.data.channels.filter((function(e){return void 0===t.find((function(a){return a.channelId===e.channelId}))}));c(t),d(n)})))};return G(p,[],2),r.a.createElement(r.a.Fragment,null,r.a.createElement(Fe.a,{subheader:r.a.createElement(qe.a,{style:{display:"flex"}},r.a.createElement("span",{style:{flex:1}},"My Channels"),r.a.createElement(ea,{callback:p}))},l.map((function(e,t){var n=e.channelId,l=e.name;return r.a.createElement(Le.a,{button:!0,key:n,component:m.b,to:"/channel/".concat(n)},r.a.createElement(Re.a,null,n==a?r.a.createElement(Be.a,null):r.a.createElement(_e.a,null)),r.a.createElement(Te.a,{primary:l}))}))),r.a.createElement(Fe.a,{subheader:r.a.createElement(qe.a,null,"Other Channels")},s.map((function(e,t){var n=e.channelId,l=e.name;return r.a.createElement(Le.a,{button:!0,key:n,component:m.b,to:"/channel/".concat(n)},r.a.createElement(Re.a,null,n==a?r.a.createElement(Be.a,null):r.a.createElement(_e.a,null)),r.a.createElement(Te.a,{primary:l}))}))))},ta=t(374),na={PaperProps:{style:{maxHeight:224,width:250}}};var ra=function(e){var a=Object.assign({},e),t=r.a.useState(!1),n=Object(u.a)(t,2),l=n[0],c=n[1],o=r.a.useState([]),i=Object(u.a)(o,2),s=i[0],m=i[1],d=r.a.useState([]),f=Object(u.a)(d,2),p=f[0],h=f[1],g=r.a.useContext(x),b=Ae();function I(){c(!1)}return r.a.useEffect((function(){E.a.get("/users/all/v2",{headers:{token:g}}).then((function(e){var a=e.data;h(a.users)})).catch((function(e){}))}),[g]),r.a.createElement("div",null,r.a.createElement(v.a,{size:"small",onClick:function(){c(!0)}},r.a.createElement(Ze.a,null)),r.a.createElement(te.a,{open:l,onClose:I,"aria-labelledby":"form-dialog-title"},r.a.createElement(ne.a,{id:"form-dialog-title"},"Create Dm"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log(s),E.a.post("/dm/create/v2",{uIds:s},{headers:{token:g}}).then((function(e){console.log(e),a.callback()})).catch((function(e){}))}},r.a.createElement(re.a,null,r.a.createElement(le.a,null,"Select the users below to create a new dm"),r.a.createElement(oe.a,{multiple:!0,value:s,onChange:function(e){m(e.target.value)},input:r.a.createElement(ta.a,null),MenuProps:na,style:{width:"100%"}},p.map((function(e){if(b!=e.uId)return r.a.createElement(q.a,{key:e.uId,value:e.uId},e.nameFirst+" "+e.nameLast)})))),r.a.createElement(me.a,null,r.a.createElement(y.a,{onClick:I,color:"primary"},"Cancel"),r.a.createElement(y.a,{onClick:I,type:"submit",color:"primary"},"Create")))))};var la=function(e){var a=e.dmId,t=r.a.useState([]),n=Object(u.a)(t,2),l=n[0],c=n[1],o=r.a.useContext(x),i=function(){E.a.get("/dm/list/v2",{headers:{token:o}}).then((function(e){var a=e.data;c(a.dms)})).catch((function(){}))};return G(i,[],2),r.a.createElement(r.a.Fragment,null,r.a.createElement(Fe.a,{subheader:r.a.createElement(qe.a,{style:{display:"flex"}},r.a.createElement("span",{style:{flex:1}},"My Dms"),r.a.createElement(ra,{callback:i}))},l.map((function(e){var t=e.dmId,n=e.name;return r.a.createElement(Le.a,{button:!0,key:t,component:m.b,to:"/dm/".concat(t)},r.a.createElement(Re.a,null,t==a?r.a.createElement(Be.a,null):r.a.createElement(_e.a,null)),r.a.createElement(Te.a,{primary:n}))}))))};var ca=function(e){var a=e.channelId,t=e.dmId;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ze,null),r.a.createElement(aa,{channelId:a}),r.a.createElement(la,{dmId:t}))},oa=t(96);var ia=function(){var e=r.a.useContext(x),a=r.a.useState(0),t=Object(u.a)(a,2),n=t[0],l=t[1],c=r.a.useState([]),o=Object(u.a)(c,2),i=o[0],s=o[1],m=r.a.useState([]),d=Object(u.a)(m,2),f=d[0],p=d[1],h=r.a.useState([]),g=Object(u.a)(h,2),v=g[0],y=g[1];return r.a.useEffect((function(){E.a.get("/users/stats/v1",{headers:{token:e}}).then((function(e){var a=e.data;console.log(a);var t=a.workspaceStats;l(t.utilizationRate),s(t.channelsExist.map((function(e){return{x:new Date(1e3*e.timeStamp),y:e.numChannelsExist}}))),p(t.dmsExist.map((function(e){return{x:new Date(1e3*e.timeStamp),y:e.numDmsExist}}))),y(t.messagesExist.map((function(e){return{x:new Date(1e3*e.timeStamp),y:e.numMessagesExist}})))})).catch((function(e){console.error(e)}))}),[e]),r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{variant:"h5"},"Workspace statistics"),r.a.createElement("p",null,"Wow! ",(100*n).toFixed(2),"% utilisation"),r.a.createElement(oa.Scatter,{data:{datasets:[{label:"Channels",data:i,fill:!1,borderColor:"#742774",showLine:!0},{label:"Dms",data:f,fill:!1,borderColor:"#4287f5",showLine:!0},{label:"Messages",data:v,fill:!1,borderColor:"#bd2d4f",showLine:!0}]},options:{scales:{xAxes:[{title:"time",type:"time",gridLines:{lineWidth:2},time:{unitStepSize:200,displayFormats:{millisecond:"MMM DD HH:mm",second:"MMM DD HH:mm",minute:"MMM DD HH:mm",hour:"MMM DD HH:mm",day:"MMM DD",week:"MMM DD",month:"MMM DD",quarter:"MMM DD",year:"MMM DD"}}}]}}}))};var sa=function(){return r.a.createElement(Pe,{menu:r.a.createElement(ca,null),body:r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{variant:"h4"},"WELCOME"),r.a.createElement("div",{style:{paddingTop:15}},r.a.createElement(b.a,{variant:"body1"},"This is Treats: agile messaging for Software Engineers")),r.a.createElement("br",null),r.a.createElement(ia,null))})},ua=t(390),ma=t(391),da=t(392),fa=t(169),pa=t.n(fa),Ea=t(168),ha=t.n(Ea);var ga=function(e){var a=e.channelId,t=(Object(ae.a)(e,["channelId"]),r.a.useState(!1)),n=Object(u.a)(t,2),l=n[0],c=n[1],o=r.a.useState(""),i=Object(u.a)(o,2),s=i[0],m=i[1],d=r.a.useState([]),f=Object(u.a)(d,2),p=f[0],h=f[1],g=r.a.useContext(x),v=G();function b(){c(!1)}return r.a.useEffect((function(){E.a.get("/users/all/v2",{headers:{token:g}}).then((function(e){var a=e.data;h(a.users)})).catch((function(e){}))}),[g]),r.a.createElement("div",null,r.a.createElement(y.a,{variant:"outlined",color:"primary",onClick:function(){c(!0)}},"Invite Member"),r.a.createElement(te.a,{open:l,onClose:b,"aria-labelledby":"form-dialog-title"},r.a.createElement(ne.a,{id:"form-dialog-title"},"Invite User"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=s;null!=t&&E.a.post("/channel/invite/v3",{uId:Number.parseInt(t),channelId:Number.parseInt(a)},{headers:{token:g}}).then((function(e){console.log(e),v()})).catch((function(e){}))}},r.a.createElement(re.a,null,r.a.createElement(le.a,null,"Select a user below to invite them to this channel"),r.a.createElement(oe.a,{style:{width:"100%"},id:"uId",onChange:function(e){var a=parseInt(e.target.value,10);m(a)},value:s},p.map((function(e,a){return r.a.createElement(q.a,{key:e.uId,value:e.uId},e.nameFirst," ",e.nameLast)})))),r.a.createElement(me.a,null,r.a.createElement(y.a,{onClick:b,color:"primary"},"Cancel"),r.a.createElement(y.a,{onClick:b,type:"submit",color:"primary"},"Invite")))))},va=t(159),ba=t.n(va),ya=t(113),Ia=t.n(ya),Sa=t(114),Ca=t(388),ja=t(387),Oa=t(163),ka=t.n(Oa),wa=t(162),xa=t.n(wa),Ma=t(335),Da=t(397);var Na=function(e){var a=e.open,t=e.handleClose,n=e.onTimerChange,l=(Object(ae.a)(e,["open","handleClose","onTimerChange"]),r.a.useState(new Date)),c=Object(u.a)(l,2),o=c[0],i=c[1];return r.a.createElement("div",null,r.a.createElement(te.a,{open:a,onClose:t,"aria-labelledby":"form-dialog-title"},r.a.createElement(ne.a,{id:"form-dialog-title"},"Send later"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n(o)}},r.a.createElement(re.a,null,r.a.createElement(Da.a,{margin:"normal",id:"time-picker",label:"Time picker",value:o,onChange:function(e){return i(e.toDate())},KeyboardButtonProps:{"aria-label":"change time"}}),r.a.createElement(le.a,null,"Enter a time to send")),r.a.createElement(me.a,null,r.a.createElement(y.a,{onClick:t,color:"primary"},"Cancel"),r.a.createElement(y.a,{onClick:t,type:"submit",color:"primary"},"Set Time")))))},Pa=Object(Ma.a)((function(e){return{flex:{display:"flex",flexDirection:"row",alignItems:"center"},input:{margin:e.spacing(1),marginRight:0},button:{margin:e.spacing(1),marginLeft:0,alignSelf:"stretch"},rightIcon:{marginLeft:e.spacing(1)},standupTimer:{margin:e.spacing(2)}}}));var Fa=function(e){var a=e.channelId,t=void 0===a?-1:a,n=e.dmId,l=void 0===n?-1:n,c=Pa(),o=r.a.useState(""),i=Object(u.a)(o,2),s=i[0],m=i[1],d=r.a.useState(-1),f=Object(u.a)(d,2),p=f[0],h=f[1],g=r.a.useState(!1),I=Object(u.a)(g,2),S=I[0],C=I[1],j=r.a.useContext(x),O=r.a.useContext(et),k=r.a.useContext(La);O=O||function(){},k=k||function(){};var w=-1!==p,M=r.a.useState(),D=Object(u.a)(M,2),N=D[0],P=D[1],F=r.a.useState(),L=Object(u.a)(F,2),R=L[0],T=L[1],W=function(){var e=s.trim();if(e)if(m(""),-1===l&&N&&N>0)E.a.post("/standup/send/v1",{channelId:Number.parseInt(t),message:e},{headers:{token:j}}).then((function(e){var a=e.data;console.log(a),O()})).catch((function(e){}));else{if(w){var a=-1===l?"/message/sendlater/v1":"message/sendlaterdm/v1";return E.a.post(a,{channelId:Number.parseInt(t),dmId:Number.parseInt(l),message:e,timeSent:p.getTime()/1e3},{headers:{token:j}}).then((function(e){var a=e.data;console.log(a)})).catch((function(e){})),void h(-1)}if(-1===l&&e.startsWith("/standup")){var n=e.match(/\/standup\s+([1-9][0-9]*)/);if(!n||n.length<2)alert("Usage: /standup <duration in seconds>");else{var r=parseInt(n[1],10);isNaN(r)||!Number.isInteger(r)?alert("Usage: /standup <duration in seconds>"):E.a.post("/standup/start/v1",{channelId:Number.parseInt(t),length:r},{headers:{token:j}}).then((function(e){var a=e.data.timeFinish;T(a),alert("You've started a standup for ".concat(r," seconds"))})).catch((function(e){}))}}else{var c=-1===l?"/message/send/v2":"message/senddm/v2";E.a.post(c,{channelId:Number.parseInt(t),dmId:Number.parseInt(l),message:e},{headers:{token:j}}).then((function(e){var a=e.data;console.log(a),O(),k()})).catch((function(e){}))}}};B((function(){R>Date.now()/1e3?P((function(){return Math.round(R-Math.round(Date.now()/1e3))})):P()}),1e3);var U=function(){-1!==t&&E.a.get("/standup/active/v1",{params:{channelId:t},headers:{token:j}}).then((function(e){var a=e.data,t=a.isActive,n=void 0!==t&&t,r=a.timeFinish;n&&r?T(r):(P(0),T(-1))})).catch((function(e){}))};return G(U,[s]),r.a.useEffect(U,[t]),r.a.createElement(r.a.Fragment,null,N>0&&r.a.createElement(b.a,{variant:"caption",className:c.standupTimer},"STANDUP ACTIVE: ".concat(N," seconds remaining")),r.a.createElement("div",{className:c.flex},r.a.createElement(Je.a,{className:c.input,label:"Send a message \ud83d\udcac",multiline:!0,placeholder:"...",fullWidth:!0,margin:"normal",variant:"filled",onKeyDown:function(e){"Enter"!==e.key||e.getModifierState("Shift")||(e.preventDefault(),W())},value:s,onChange:function(e){return m(e.target.value)},InputProps:{endAdornment:r.a.createElement(ja.a,{position:"end"},r.a.createElement(v.a,{"aria-label":"toggle visibility",disabled:N>0,onClick:function(){return w?h(-1):C(!0)}},r.a.createElement(xa.a,{color:w?"secondary":void 0})))}}),r.a.createElement(y.a,{className:c.button,variant:"contained",color:"primary",onClick:W},"Send",r.a.createElement(ka.a,{className:c.rightIcon}))),r.a.createElement(Na,{open:S,handleClose:function(){return C(!1)},onTimerChange:h}))},La=r.a.createContext(),Ra=La.Provider;La.Consumer;var Ta=function(e){var a=e.dmId,t=void 0===a?"":a,n=r.a.useState([]),l=Object(u.a)(n,2),c=l[0],o=l[1],i=r.a.useState({dmId:t,isPaginating:!1,currentStart:0,currentEnd:0,sliceStart:0}),s=Object(u.a)(i,2),m=s[0],d=s[1],f=r.a.useContext(x),p=function(){var e=m.dmId===t?m:{dmId:t,isPaginating:!1,currentStart:0,currentEnd:0,sliceStart:0};E.a.get("/dm/messages/v2",{params:{dmId:Number.parseInt(t),start:e.isPaginating?e.currentStart:0},headers:{token:f}}).then((function(a){var n=a.data,r=n.messages,l=(n.start,n.end);d(Object(je.a)(Object(je.a)({},e),{},{dmId:t,currentEnd:l})),o(r)})).catch((function(e){}))};G(p,[t,m.currentStart]);var h=m.currentStart,g=m.currentEnd,v=m.sliceStart,b=m.isPaginating,I=-1==g&&v>=c.length-10,S=c.filter((function(e){return e.isPinned})),C=c.length?"Messages [".concat(h+v+1,"...").concat(Math.min(h+c.length,h+v+10),"]"):"Messages (None)";return r.a.createElement(Ra,{value:p},S.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",null),r.a.createElement(Fe.a,{subheader:r.a.createElement(qe.a,null,"Pinned Messages")},S.map((function(e){return r.a.createElement(Za,Object.assign({key:e.messageId},e))})))),r.a.createElement("hr",null),r.a.createElement(Fe.a,{subheader:r.a.createElement(qe.a,null,C),style:{width:"100%"}},!I&&r.a.createElement(Le.a,null,r.a.createElement(y.a,{variant:"outlined",color:"secondary",onClick:function(){return d((function(e){var a=e.sliceStart,t=e.currentStart,n=e.currentEnd,r=Object(ae.a)(e,["sliceStart","currentStart","currentEnd"]);return a+10<c.length?Object(je.a)(Object(je.a)({},r),{},{currentStart:t,currentEnd:n,sliceStart:a+10,isPaginating:!0}):Object(je.a)(Object(je.a)({},r),{},{currentEnd:n,currentStart:n,sliceStart:0,isPaginating:!0})}))}},"Previous messages")),c.slice(v,v+10).reverse().map((function(e){return r.a.createElement(Za,Object.assign({key:e.messageId},e))})),b&&r.a.createElement(Le.a,null,r.a.createElement(y.a,{variant:"outlined",color:"secondary",onClick:function(){return d((function(e){var a=e.sliceStart,t=e.currentStart,n=Object(ae.a)(e,["sliceStart","currentStart"]);return a>=10?Object(je.a)(Object(je.a)({},n),{},{currentStart:t,sliceStart:a-10,isPaginating:!(0==t&&10==a)}):t>=50&&t?Object(je.a)(Object(je.a)({},n),{},{currentStart:t-50,sliceStart:40}):Object(je.a)(Object(je.a)({},n),{},{currentStart:0,sliceStart:0,isPaginating:!1})}))}},"Next messages"))),r.a.createElement(Fa,{dmId:t}))};var Wa=Object(Ca.a)((function(e){var a=e.messageId,t=e.isPinned,n=void 0!==t&&t,l=e.theme,c=r.a.useState(n),o=Object(u.a)(c,2),i=o[0],s=o[1];r.a.useEffect((function(){return s(n)}),[n]);var m=r.a.useContext(x),d=r.a.useContext(et),f=r.a.useContext(La);return d=d||function(){},f=f||function(){},r.a.createElement(v.a,{onClick:function(){i?E.a.post("/message/unpin/v1",{messageId:Number.parseInt(a)},{headers:{token:m}}).then((function(){d(),f()})):E.a.post("/message/pin/v1",{messageId:Number.parseInt(a)},{headers:{token:m}}).then((function(){d(),f()}))},style:{margin:1},size:"small",edge:"end","aria-label":"delete"},i?r.a.createElement(Ia.a,{path:Sa.a,size:"1em",color:l&&l.palette.action.active}):r.a.createElement(Ia.a,{path:Sa.b,size:"1em",color:l&&l.palette.action.active}))})),Ua=t(389),Aa=t(164),za=t.n(Aa),qa=t(165),Ha=t.n(qa);var Ba=function(e){var a=e.messageId,t=e.reacts,n=void 0===t?[]:t,l=r.a.useContext(x),c=r.a.useContext(et),o=r.a.useContext(La);c=c||function(){},o=o||function(){};var i=0,s=!1,u=n.findIndex((function(e){return 1===e.reactId}));return-1!==u&&(i=n[u].uIds.length,s=n[u].isThisUserReacted),r.a.createElement(Ua.a,{anchorOrigin:{horizontal:"right",vertical:"bottom"},badgeContent:i,color:"secondary"},r.a.createElement(v.a,{onClick:function(){return function(e){e?E.a.post("/message/unreact/v1",{messageId:Number.parseInt(a),reactId:1},{headers:{token:l}}).then((function(){c(),o()})):E.a.post("/message/react/v1",{messageId:Number.parseInt(a),reactId:1},{headers:{token:l}}).then((function(){c(),o()}))}(s)},style:{margin:1},size:"small",edge:"end","aria-label":"delete"},s?r.a.createElement(za.a,{fontSize:"small"}):r.a.createElement(Ha.a,{fontSize:"small"})))},Va=t(166),_a=t.n(Va);var Ja=function(e){var a=e.messageId,t=e.disabled,n=void 0!==t&&t,l=r.a.useContext(x),c=r.a.useContext(et),o=r.a.useContext(La);return c=c||function(){},o=o||function(){},r.a.createElement(v.a,{disabled:n,onClick:function(){E.a.delete("/message/remove/v2",{headers:{token:l},params:{messageId:Number.parseInt(a)}}).then((function(){c(),o()}))},style:{margin:1},size:"small",edge:"end","aria-label":"delete"},r.a.createElement(_a.a,{fontSize:"small"}))},Ka=t(97),Ya=t.n(Ka);var Ga=function(e){var a=e.messageId,t=e.disabled,n=void 0!==t&&t,l=r.a.useContext(x),c=r.a.useContext(et),o=r.a.useContext(La);return c=c||function(){},o=o||function(){},r.a.createElement(v.a,{disabled:n,onClick:function(){var e=prompt();null!==e&&(""!==e?E.a.put("/message/edit/v2",{messageId:Number.parseInt(a),message:e},{headers:{token:l}}).then((function(){c(),o()})):E.a.delete("/message/remove/v2",{headers:{token:l},params:{messageId:Number.parseInt(a)}}).then((function(){c(),o()})))},style:{margin:1},size:"small",edge:"end","aria-label":"delete"},r.a.createElement(Ya.a,{fontSize:"small"}))},$a=t(167),Qa=t.n($a);var Xa=function(e){var a=e.ogMessageId,t=(Object(ae.a)(e,["ogMessageId"]),r.a.useState(!1)),n=Object(u.a)(t,2),l=n[0],c=n[1],o=r.a.useState(-1),i=Object(u.a)(o,2),s=i[0],m=i[1],d=r.a.useState(-1),f=Object(u.a)(d,2),p=f[0],h=f[1],g=r.a.useState(""),b=Object(u.a)(g,2),I=b[0],S=b[1],C=r.a.useState([]),j=Object(u.a)(C,2),O=j[0],k=j[1],w=r.a.useState([]),M=Object(u.a)(w,2),D=M[0],N=M[1],P=r.a.useState(""),F=Object(u.a)(P,2),L=F[0],R=F[1],T=r.a.useContext(x),W=G();function U(){c(!1)}return r.a.useEffect((function(){E.a.get("channels/list/v3",{headers:{token:T}}).then((function(e){var a=e.data;k(a.channels)})).catch((function(e){})),E.a.get("dm/list/v2",{headers:{token:T}}).then((function(e){var a=e.data;N(a.dms)})).catch((function(e){}))}),[T]),r.a.createElement("div",null,r.a.createElement(v.a,{onClick:function(){c(!0)},style:{margin:1},size:"small",edge:"end","aria-label":"share"},r.a.createElement(Qa.a,{fontSize:"small"})),r.a.createElement(te.a,{open:l,onClose:U,"aria-labelledby":"form-dialog-title"},r.a.createElement(ne.a,{id:"form-dialog-title"},"Share message"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),E.a.post("/message/share/v1",{ogMessageId:Number.parseInt(a),message:L,channelId:Number.parseInt(s),dmId:Number.parseInt(p)},{headers:{token:T}}).then((function(e){console.log(e),W()})).catch((function(e){}))}},r.a.createElement(re.a,null,r.a.createElement(le.a,null,"Enter a channel below to share the message to"),r.a.createElement(oe.a,{style:{width:"100%"},id:"u_id",onChange:function(e){S(e.target.value),"d"===e.target.value.slice(0,1)?(h(e.target.value.slice(1)),m(-1)):(m(e.target.value.slice(1)),h(-1))},value:I},O.map((function(e){return r.a.createElement(q.a,{key:e.channelId,value:"c".concat(e.channelId)},e.name)})),D.map((function(e){return r.a.createElement(q.a,{key:e.dmId,value:"d".concat(e.dmId)},e.name)}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(le.a,null,"Optionally, enter an additional message"),r.a.createElement(Je.a,{multiline:!0,fullWidth:!0,rowsMax:4,value:L,onChange:function(e){R(e.target.value)}})),r.a.createElement(me.a,null,r.a.createElement(y.a,{onClick:U,color:"primary"},"Cancel"),r.a.createElement(y.a,{onClick:U,type:"submit",color:"primary"},"Share")))))};var Za=function(e){var a=e.messageId,t=e.message,n=void 0===t?"":t,l=e.uId,c=e.timeSent,o=(e.isUnread,e.isPinned),i=void 0!==o&&o,s=e.reacts,m=void 0===s?[]:s,d=r.a.useState(),f=Object(u.a)(d,2),p=f[0],h=f[1],g=r.a.useState(),v=Object(u.a)(g,2),b=v[0],y=v[1],I=r.a.useState(),S=Object(u.a)(I,2),C=S[0],j=S[1],O=r.a.useContext(x),k=(V(l,Ae()),[p,b].filter((function(e){return null!=e&&""!==e})).join(" ")),w=[p,b].filter((function(e){return null!=e&&""!==e})).map((function(e){return e[0]})).join("");return r.a.useEffect((function(){h(),y(),j(),E.a.get("/user/profile/v3",{params:{uId:l},headers:{token:O}}).then((function(e){var a=e.data.user,t=(a.email,a.nameFirst),n=void 0===t?"":t,r=a.nameLast,l=void 0===r?"":r,c=(a.handleStr,a.profileImgUrl),o=void 0===c?"":c;h(n),y(l),j("".concat(o))})).catch((function(e){console.error(e)}))}),[a,O,l]),r.a.createElement(Le.a,{key:a,style:{width:"100%"}},n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ua.a,null,r.a.createElement(ma.a,{style:{width:"50px",height:"50px",border:"1px solid #ccc"},src:C},w)),r.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"space-between",alignItems:"center"}},r.a.createElement(Te.a,{primary:r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,k),r.a.createElement("span",{style:{paddingLeft:10,fontSize:10}},ba()(1e3*c))),secondary:r.a.createElement("div",null,r.a.createElement("pre",{style:{fontFamily:"inherit"}},n))}),r.a.createElement("div",{style:{display:"flex",height:30,marginLeft:20}},r.a.createElement(Ba,{messageId:a,reacts:m,uId:l}),r.a.createElement(Wa,{messageId:a,isPinned:i}),r.a.createElement(Xa,{ogMessageId:a}),r.a.createElement(Ga,{messageId:a}),r.a.createElement(Ja,{messageId:a})))))},et=r.a.createContext(),at=et.Provider;et.Consumer;var tt=function(e){var a=e.channelId,t=void 0===a?"":a,n=r.a.useState([]),l=Object(u.a)(n,2),c=l[0],o=l[1],i=r.a.useState({channelId:t,isPaginating:!1,currentStart:0,currentEnd:0,sliceStart:0}),s=Object(u.a)(i,2),m=s[0],d=s[1],f=r.a.useContext(x),p=function(){var e=m.channelId===t?m:{channelId:t,isPaginating:!1,currentStart:0,currentEnd:0,sliceStart:0};E.a.get("/channel/messages/v3",{params:{channelId:Number.parseInt(t),start:e.isPaginating?e.currentStart:0},headers:{token:f}}).then((function(a){var n=a.data,r=n.messages,l=n.end;d(Object(je.a)(Object(je.a)({},e),{},{channelId:t,currentEnd:l})),o(r)})).catch((function(e){}))};G(p,[t,m.currentStart]);var h=m.currentStart,g=m.currentEnd,v=m.sliceStart,b=m.isPaginating,I=-1==g&&v>=c.length-10,S=c.filter((function(e){return e.isPinned})),C=c.length?"Messages [".concat(h+v+1,"...").concat(Math.min(h+c.length,h+v+10),"]"):"Messages (None)";return r.a.createElement(at,{value:p},S.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",null),r.a.createElement(Fe.a,{subheader:r.a.createElement(qe.a,null,"Pinned Messages")},S.map((function(e){return r.a.createElement(Za,Object.assign({key:e.messageId},e))})))),r.a.createElement("hr",null),r.a.createElement(Fe.a,{subheader:r.a.createElement(qe.a,null,C),style:{width:"100%"}},!I&&r.a.createElement(Le.a,null,r.a.createElement(y.a,{variant:"outlined",color:"secondary",onClick:function(){return d((function(e){var a=e.sliceStart,t=e.currentStart,n=e.currentEnd,r=Object(ae.a)(e,["sliceStart","currentStart","currentEnd"]);return a+10<c.length?Object(je.a)(Object(je.a)({},r),{},{currentStart:t,currentEnd:n,sliceStart:a+10,isPaginating:!0}):Object(je.a)(Object(je.a)({},r),{},{currentEnd:n,currentStart:n,sliceStart:0,isPaginating:!0})}))}},"Previous messages")),c.slice(v,v+10).reverse().map((function(e){return r.a.createElement(Za,Object.assign({key:e.messageId},e))})),b&&r.a.createElement(Le.a,null,r.a.createElement(y.a,{variant:"outlined",color:"secondary",onClick:function(){return d((function(e){var a=e.sliceStart,t=e.currentStart,n=Object(ae.a)(e,["sliceStart","currentStart"]);return a>=10?Object(je.a)(Object(je.a)({},n),{},{currentStart:t,sliceStart:a-10,isPaginating:!(0==t&&10==a)}):t>=50&&t?Object(je.a)(Object(je.a)({},n),{},{currentStart:t-50,sliceStart:40}):Object(je.a)(Object(je.a)({},n),{},{currentStart:0,sliceStart:0,isPaginating:!1})}))}},"Next messages"))),r.a.createElement(Fa,{channelId:t}))},nt=t(386);var rt=function(){return r.a.createElement("div",{style:{display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"}},r.a.createElement(nt.a,null))};var lt=function(e){var a=e.channelId,t=(Object(ae.a)(e,["channelId"]),r.a.useState(!0)),n=Object(u.a)(t,2),l=n[0],c=n[1],o=r.a.useState(""),i=Object(u.a)(o,2),s=i[0],m=i[1],d=r.a.useState([]),f=Object(u.a)(d,2),p=f[0],h=f[1],g=r.a.useState([]),I=Object(u.a)(g,2),S=I[0],C=I[1],j=r.a.useContext(x),O=Ae();function k(){E.a.get("/channel/details/v3",{params:{channelId:a},headers:{token:j}}).then((function(e){var a=e.data,t=a.name,n=a.ownerMembers,r=a.allMembers;h(r),C(n),m(t)})).catch((function(e){h([]),C([]),m("")})).finally((function(){return c(!1)}))}function w(e){return void 0!==e.find((function(e){return V(e.uId,O)}))}function M(e,a){return void 0!==e.find((function(e){return V(e.uId,a)}))}G(k,[a,j],2);var D=w(p);return r.a.createElement(r.a.Fragment,null,l?r.a.createElement(rt,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{variant:"h4"},s.toUpperCase()),r.a.createElement(Fe.a,{subheader:r.a.createElement(qe.a,null,"Members")},p.map((function(e){var t=e.uId,n=e.nameFirst,l=e.nameLast,c=e.profileImgUrl;return r.a.createElement(Le.a,{key:t},r.a.createElement(ua.a,null,r.a.createElement(ma.a,{style:{width:"50px",height:"50px",border:"1px solid #ccc"},src:c},[n,l].filter((function(e){return null!=e&&""!==e})).map((function(e){return e[0]})).join(""))),r.a.createElement(Te.a,{primary:r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,{container:!0,alignItems:"center",spacing:1},r.a.createElement(ce.a,{item:!0},r.a.createElement(da.a,{href:"/profile/".concat(t)},"".concat(n," ").concat(l)),"".concat(M(S,t)?" \u2b50":" ")),r.a.createElement(ce.a,{item:!0},M(S,t)?r.a.createElement(v.a,{size:"small",onClick:function(){return function(e){E.a.post("/channel/removeowner/v2",{channelId:Number.parseInt(a),uId:Number.parseInt(e)},{headers:{token:j}}).then((function(){k()})).catch((function(e){}))}(t)}},r.a.createElement(ha.a,null)):r.a.createElement(v.a,{size:"small",onClick:function(){return function(e){E.a.post("/channel/addowner/v2",{channelId:Number.parseInt(a),uId:Number.parseInt(e)},{headers:{token:j}}).then((function(){k()})).catch((function(e){}))}(t)}},r.a.createElement(pa.a,null)))))}))})),r.a.createElement(Le.a,{key:"invite_member"},w(p)?r.a.createElement(ce.a,{container:!0,spacing:1},r.a.createElement(ce.a,{item:!0},r.a.createElement(ga,{channelId:a})),r.a.createElement(ce.a,{item:!0},r.a.createElement(y.a,{variant:"outlined",onClick:function(){return function(e,a){E.a.post("/channel/leave/v2",{channelId:Number.parseInt(e)},{headers:{token:a}}).then((function(){k()})).catch((function(e){}))}(a,j)}},"Leave Channel"))):r.a.createElement(y.a,{variant:"outlined",color:"primary",onClick:function(){return function(e,a){E.a.post("/channel/join/v3",{channelId:Number.parseInt(e)},{headers:{token:a}}).then((function(){k()})).catch((function(e){}))}(a,j)}},"Join Channel"))),D&&r.a.createElement(tt,{channelId:a})))};var ct=function(e){var a=e.match.params.channelId;return r.a.createElement(Pe,{menu:r.a.createElement(ca,{channelId:a,dmId:null}),body:r.a.createElement(lt,{channelId:a})})};var ot=function(e){var a=e.dmId,t=(Object(ae.a)(e,["dmId"]),r.a.useState(!0)),n=Object(u.a)(t,2),l=n[0],c=n[1],o=r.a.useState(""),i=Object(u.a)(o,2),s=i[0],m=i[1],d=r.a.useState([]),f=Object(u.a)(d,2),p=f[0],h=f[1],g=r.a.useContext(x);function v(){E.a.get("/dm/details/v2",{params:{dmId:a},headers:{token:g}}).then((function(e){var a=e.data,t=a.name,n=a.members;console.log(n),h(n),m(t)})).catch((function(e){h([]),m("")})).finally((function(){return c(!1)}))}return G(v,[a,g],2),r.a.createElement(r.a.Fragment,null,l?r.a.createElement(rt,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{variant:"h4"},s.toUpperCase()),r.a.createElement(Fe.a,{subheader:r.a.createElement(qe.a,null,"Members")},p.map((function(e){var a=e.uId,t=e.nameFirst,n=e.nameLast,l=e.profileImgUrl;return r.a.createElement(Le.a,{key:a},r.a.createElement(ua.a,null,r.a.createElement(ma.a,{style:{width:"50px",height:"50px",border:"1px solid #ccc"},src:l},[t,n].filter((function(e){return null!=e&&""!==e})).map((function(e){return e[0]})).join(""))),r.a.createElement(Te.a,{primary:r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,{container:!0,alignItems:"center",spacing:1},r.a.createElement(ce.a,{item:!0},r.a.createElement(da.a,{href:"/profile/".concat(a)},"".concat(t," ").concat(n)))))}))})),r.a.createElement(Le.a,{key:"leave_dm"},r.a.createElement(ce.a,{container:!0,spacing:1},r.a.createElement(ce.a,{item:!0},r.a.createElement(y.a,{variant:"outlined",onClick:function(){return function(e,a){E.a.post("/dm/leave/v2",{dmId:Number.parseInt(e)},{headers:{token:a}}).then((function(){v()})).catch((function(e){}))}(a,g)}},"Leave Dm"),"\xa0",r.a.createElement(y.a,{variant:"outlined",onClick:function(){return function(e,a){E.a.delete("/dm/remove/v2",{headers:{token:a},params:{dmId:Number.parseInt(e)}}).then((function(){v()})).catch((function(e){}))}(a,g)}},"Remove Dm"))))),r.a.createElement(Ta,{dmId:a})))};var it=function(e){var a=e.match.params.dmId;return r.a.createElement(Pe,{menu:r.a.createElement(ca,{channelId:null,dmId:a}),body:r.a.createElement(ot,{dmId:a})})},st=t(393),ut=t(398),mt=t(170),dt=t.n(mt),ft=Object(I.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.primary.light}},card:{backgroundColor:e.palette.background.paper,marginTop:e.spacing(8),padding:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",borderRadius:e.shape.borderRadius}}}));var pt=function(e){var a=e.setAuth,t=Object(ae.a)(e,["setAuth"]),n=r.a.useState(!1),l=Object(u.a)(n,2),c=l[0],o=l[1],i=ft();return r.a.createElement(st.a,{component:"main",maxWidth:"sm"},r.a.createElement(ut.a,{boxShadow:3,className:i.card},r.a.createElement(ma.a,null,r.a.createElement(dt.a,null)),r.a.createElement(b.a,{component:"h1",variant:"h5"},"Login"),c?r.a.createElement("div",{style:{marginTop:"64px"}},r.a.createElement(rt,null)):r.a.createElement("form",{noValidate:!0,onSubmit:function(e){e.preventDefault();var n=e.target[0].value,r=e.target[2].value;n&&r&&(o(!0),E.a.post("/auth/login/v3",{email:n,password:r}).then((function(e){console.log(e);var n=e.data;a(n.token,n.authUserId),t.history.push("/")})).catch((function(e){})).finally((function(){return o(!1)})))}},r.a.createElement(Je.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",type:"text",autoFocus:!0}),r.a.createElement(Je.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),r.a.createElement("div",{className:"password-warning"},"Passwords are not securely stored.",r.a.createElement("br",null),"Do not enter any currently used passwords."),r.a.createElement(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Sign In"),r.a.createElement(ce.a,{container:!0,direction:"column",alignItems:"center"},r.a.createElement(ce.a,{item:!0},r.a.createElement("br",null),r.a.createElement(da.a,{href:"/register",variant:"body1"},"Don't have an account? Register")),r.a.createElement(ce.a,{item:!0},r.a.createElement("br",null),r.a.createElement(da.a,{href:"/forgot_password",variant:"body1"},"Forgot password?"))))))},Et=t(62),ht=t.n(Et),gt=Object(I.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.primary.light}},card:{backgroundColor:e.palette.background.paper,marginTop:e.spacing(8),padding:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",borderRadius:e.shape.borderRadius}}}));var vt=function(e){var a=e.setAuth,t=Object(ae.a)(e,["setAuth"]),n=r.a.useState(!1),l=Object(u.a)(n,2),c=l[0],o=l[1],i=r.a.useState({nameFirst:"",nameLast:"",email:"",password:""}),s=Object(u.a)(i,2),m=s[0],d=s[1],p=function(e){return function(a){d(Object(je.a)(Object(je.a)({},m),{},Object(f.a)({},e,a.target.value)))}},h=gt();return r.a.createElement(st.a,{component:"main",maxWidth:"sm"},r.a.createElement(ut.a,{boxShadow:3,className:h.card},r.a.createElement(ma.a,null,r.a.createElement(ht.a,{color:"secondary"})),r.a.createElement(b.a,{component:"h1",variant:"h5"},"Register"),c?r.a.createElement("div",{style:{marginTop:"64px"}},r.a.createElement(rt,null)):r.a.createElement("form",{noValidate:!0,onSubmit:function(e){e.preventDefault(),m.email&&m.password&&(o(!0),E.a.post("/auth/register/v3",Object(je.a)({},m)).then((function(e){console.log(e);var n=e.data;a(n.token,n.authUserId),t.history.push("/")})).catch((function(e){})).finally((function(){return o(!1)})))}},r.a.createElement(Je.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"nameFirst",label:"First name",name:"nameFirst",type:"text",autoFocus:!0,value:m.nameFirst,onChange:p("nameFirst")}),r.a.createElement(Je.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"nameLast",label:"Last name",name:"nameLast",type:"text",value:m.nameLast,onChange:p("nameLast")}),r.a.createElement(Je.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",type:"email",value:m.email,onChange:p("email")}),r.a.createElement(Je.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:m.password,onChange:p("password")}),r.a.createElement("div",{className:"password-warning"},"Passwords are not securely stored.",r.a.createElement("br",null),"Do not enter any currently used passwords."),r.a.createElement(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Sign Up"),r.a.createElement(ce.a,{container:!0},r.a.createElement(ce.a,{item:!0},r.a.createElement("br",null),r.a.createElement(da.a,{href:"/login",variant:"body1"},"Already have an account? Login"))))))},bt=Object(I.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.primary.light}},card:{backgroundColor:e.palette.background.paper,marginTop:e.spacing(8),padding:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",borderRadius:e.shape.borderRadius}}}));var yt=function(e){var a=r.a.useState(!1),t=Object(u.a)(a,2),n=t[0],l=t[1],c=bt();return r.a.createElement(st.a,{component:"main",maxWidth:"sm"},r.a.createElement(ut.a,{boxShadow:3,className:c.card},r.a.createElement(ma.a,null,r.a.createElement(ht.a,{color:"secondary"})),r.a.createElement(b.a,{component:"h1",variant:"h5"},"Forgot Password"),n?r.a.createElement("div",{style:{marginTop:"64px"}},r.a.createElement(rt,null)):r.a.createElement("form",{noValidate:!0,onSubmit:function(a){a.preventDefault();var t=a.target[0].value;t&&(l(!0),E.a.post("/auth/passwordreset/request/v1",{email:t}).then((function(a){console.log(a),e.history.push("/reset_password")})).catch((function(e){})).finally((function(){return l(!1)})))}},r.a.createElement(Je.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",type:"email",autoFocus:!0}),r.a.createElement(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Send Recovery Email"),r.a.createElement(ce.a,{container:!0},r.a.createElement(ce.a,{item:!0},r.a.createElement("br",null),r.a.createElement(da.a,{href:"/login",variant:"body1"},"Remember your password? Login"))))))},It=Object(I.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.primary.light}},card:{backgroundColor:e.palette.background.paper,marginTop:e.spacing(8),padding:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",borderRadius:e.shape.borderRadius}}}));var St=function(e){var a=r.a.useState(!1),t=Object(u.a)(a,2),n=t[0],l=t[1],c=It();return r.a.createElement(st.a,{component:"main",maxWidth:"sm"},r.a.createElement(ut.a,{boxShadow:3,className:c.card},r.a.createElement(ma.a,null,r.a.createElement(ht.a,{color:"secondary"})),r.a.createElement(b.a,{component:"h1",variant:"h5"},"Reset Password"),n?r.a.createElement("div",{style:{marginTop:"64px"}},r.a.createElement(rt,null)):r.a.createElement("form",{noValidate:!0,onSubmit:function(a){a.preventDefault();var t=a.target[0].value,n=a.target[2].value;t&&n&&(l(!0),E.a.post("/auth/passwordreset/reset/v1",{resetCode:t,newPassword:n}).then((function(a){console.log(a),e.history.push("/login")})).catch((function(e){})).finally((function(){return l(!1)})))}},r.a.createElement(Je.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"resetCode",label:"Reset code",name:"resetCode",type:"text",autoFocus:!0}),r.a.createElement(Je.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"newPassword",label:"New Password",name:"newPassword",type:"password"}),r.a.createElement(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Change Password"),r.a.createElement(ce.a,{container:!0},r.a.createElement(ce.a,{item:!0},r.a.createElement("br",null),r.a.createElement(da.a,{href:"/login",variant:"body1"},"Remember your password? Login"))))))},Ct=t(176),jt=t(172),Ot=t.n(jt),kt=t(171),wt=t.n(kt);var xt=function(e){var a=e.editable,t=e.master,n=e.masterValue,l=e.slaves,c=e.slaveValues,o=e.onSave,i=(Object(ae.a)(e,["editable","master","masterValue","slaves","slaveValues","onSave"]),r.a.useState(!1)),s=Object(u.a)(i,2),m=s[0],d=s[1],f=r.a.useState(),p=Object(u.a)(f,2),E=p[0],h=p[1],g=r.a.useState(n),v=Object(u.a)(g,2),b=v[0],y=v[1],I=r.a.useState([]),S=Object(u.a)(I,2),C=S[0],j=S[1],O=r.a.useState(c),k=Object(u.a)(O,2),w=k[0],x=k[1];function M(){h(b),j(w),d(!m)}return r.a.useEffect((function(){y(n),x(c)}),[n,c]),r.a.createElement(ce.a,{container:!0,spacing:1,alignItems:"flex-end"},l&&l.map((function(e,a){return r.a.createElement(ce.a,{item:!0,key:a},e({value:w[a]||"",InputProps:{readOnly:!m},onChange:function(e){return function(e,a){var t=w.map((function(t,n){return n===a?e.target.value:t}));x(t)}(e,a)}}))})),r.a.createElement(ce.a,{item:!0},t({value:b||"",InputProps:{readOnly:!m},onChange:function(e){y(e.target.value)}})),a&&r.a.createElement(ce.a,{item:!0},a?m?r.a.createElement(r.a.Fragment,null,r.a.createElement(wt.a,{style:{cursor:"pointer"},onClick:function(){null!=b&&(o&&(w?o.apply(void 0,[b].concat(Object(Ct.a)(w))):o(b)),M())}}),r.a.createElement(Ot.a,{style:{cursor:"pointer"},onClick:function(){y(E),x(C),M()}})):r.a.createElement(Ya.a,{style:{cursor:"pointer"},onClick:M}):null))};var Mt=function(){var e=r.a.useContext(x),a=r.a.useState(0),t=Object(u.a)(a,2),n=t[0],l=t[1],c=r.a.useState([]),o=Object(u.a)(c,2),i=o[0],s=o[1],m=r.a.useState([]),d=Object(u.a)(m,2),f=d[0],p=d[1],h=r.a.useState([]),g=Object(u.a)(h,2),v=g[0],y=g[1];return r.a.useEffect((function(){E.a.get("/user/stats/v1",{headers:{token:e}}).then((function(e){var a=e.data;console.log(a);var t=a.userStats;l(t.involvementRate),s(t.channelsJoined.map((function(e){return{x:new Date(1e3*e.timeStamp),y:e.numChannelsJoined}}))),p(t.dmsJoined.map((function(e){return{x:new Date(1e3*e.timeStamp),y:e.numDmsJoined}}))),y(t.messagesSent.map((function(e){return{x:new Date(1e3*e.timeStamp),y:e.numMessagesSent}})))})).catch((function(e){console.error(e)}))}),[e]),r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{variant:"h5"},"User statistics"),r.a.createElement("p",null,"Involvement rate: ",(100*n).toFixed(2),"%"),r.a.createElement(oa.Scatter,{data:{datasets:[{label:"Channels joined",data:i,fill:!1,borderColor:"#742774",showLine:!0},{label:"Dms joined",data:f,fill:!1,borderColor:"#4287f5",showLine:!0},{label:"Messages sent",data:v,fill:!1,borderColor:"#bd2d4f",showLine:!0}]},options:{scales:{xAxes:[{title:"time",type:"time",gridLines:{lineWidth:2},time:{unitStepSize:200,displayFormats:{millisecond:"MMM DD HH:mm",second:"MMM DD HH:mm",minute:"MMM DD HH:mm",hour:"MMM DD HH:mm",day:"MMM DD",week:"MMM DD",month:"MMM DD",quarter:"MMM DD",year:"MMM DD"}}}]}}}))};var Dt=function(e){var a=e.profile,t=r.a.useState(!0),n=Object(u.a)(t,2),l=n[0],c=n[1],o=r.a.useState({}),i=Object(u.a)(o,2),s=i[0],m=i[1],d=r.a.useContext(x),f=Ae();r.a.useEffect((function(){E.a.get("/user/profile/v3",{params:{uId:a},headers:{token:d}}).then((function(e){var a=e.data;console.log(a);var t=a.user;m(t)})).catch((function(e){console.error(e)})).finally((function(){return c(!1)}))}),[a,d]);var p=f.toString()===a;return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{variant:"h4"},"Profile"),l?r.a.createElement(rt,null):r.a.createElement(Fe.a,{subheader:r.a.createElement(qe.a,null,"Profile Details")},r.a.createElement(Le.a,{key:"name"},r.a.createElement(xt,{editable:p,masterValue:s.nameLast,slaveValues:[s.nameFirst],master:function(e){return r.a.createElement(Je.a,Object.assign({label:"Last Name"},e))},slaves:[function(e){return r.a.createElement(Je.a,Object.assign({label:"First Name"},e))}],onSave:function(e,a){E.a.put("/user/profile/setname/v2",{nameFirst:a,nameLast:e},{headers:{token:d}}).then((function(){console.log("all good")})).catch((function(e){console.error(e)}))}})),r.a.createElement(Le.a,{key:"email"},r.a.createElement(xt,{editable:p,masterValue:s.email,master:function(e){return r.a.createElement(Je.a,Object.assign({label:"Email"},e))},onSave:function(e){E.a.put("/user/profile/setemail/v2",{email:e},{headers:{token:d}}).then((function(){console.log("all good")})).catch((function(e){console.error(e)}))}})),r.a.createElement(Le.a,{key:"handle"},r.a.createElement(xt,{editable:p,masterValue:s.handleStr,master:function(e){return r.a.createElement(Je.a,Object.assign({label:"Handle"},e))},onSave:function(e){E.a.put("/user/profile/sethandle/v2",{handleStr:e},{headers:{token:d}}).then((function(){console.log("all good")})).catch((function(e){console.error(e)}))}})),r.a.createElement(Le.a,{key:"imgUrl"},r.a.createElement(xt,{editable:p,masterValue:s.profileImgUrl,master:function(e){return r.a.createElement(Je.a,Object.assign({label:"imgUrl,x1,y1,x2,y2"},e))},onSave:function(e){var a=e.split(",");E.a.post("/user/profile/uploadphoto/v1",{imgUrl:a[0],xStart:Number.parseInt(a[1]),yStart:Number.parseInt(a[2]),xEnd:Number.parseInt(a[3]),yEnd:Number.parseInt(a[4])},{headers:{token:d}}).then((function(){console.log("all good")})).catch((function(e){console.error(e)}))}})),r.a.createElement("br",null),r.a.createElement("div",null,"NOTE: The final field input is to set a profile image. Please enter the 5 components (image url, xStart, yStart, xEnd, yEnd) separated by commas.")),r.a.createElement("br",null),p&&r.a.createElement(Mt,null))};var Nt=function(e){var a=e.match.params.profile;return r.a.createElement(Pe,{menu:r.a.createElement(ca,null),body:r.a.createElement(Dt,{profile:a})})},Pt=t(394);var Ft=function(e){var a=e.queryStr,t=(Object(ae.a)(e,["queryStr"]),r.a.useState(!0)),n=Object(u.a)(t,2),l=n[0],c=n[1],o=r.a.useState([]),i=Object(u.a)(o,2),s=i[0],m=i[1],d=r.a.useContext(x);return r.a.useEffect((function(){""!==a&&E.a.get("/search/v1",{params:{queryStr:a},headers:{token:d}}).then((function(e){var a=e.data.messages;("undefined"===typeof a||Array.isArray(a))&&(m(a),c(!1))})).catch((function(e){c(!1)}))}),[d,a]),""===a?r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{variant:"h4",style:{marginBottom:10}},"Search"),r.a.createElement(b.a,{variant:"h6"},"Enter a query in the search bar above")):r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{variant:"h4",style:{marginBottom:10}},"Search Results"),l?r.a.createElement(Pt.a,null):0==s.length?r.a.createElement(b.a,{variant:"h6"},"Your search did not return any results"):r.a.createElement(Fe.a,{subheader:r.a.createElement(qe.a,null,"Messages"),style:{width:"100%"}},s.slice().reverse().map((function(e){return r.a.createElement(Za,Object.assign({key:e.messageId},e))}))))};var Lt=function(e){var a=e.match.params.queryStr,t=void 0===a?"":a;return r.a.createElement(Pe,{menu:r.a.createElement(ca,null),body:r.a.createElement(Ft,{queryStr:t})})};var Rt=function(e){var a=r.a.useContext(x);return console.log(a),a?r.a.createElement(d.b,e):r.a.createElement(d.a,{to:"/login"})},Tt=t(173),Wt=t.n(Tt);E.a.defaults.baseURL=N,E.a.defaults.headers.put["Content-Type"]="application/json",E.a.defaults.headers.post["Content-Type"]="application/json",E.a.defaults.headers.delete["Content-Type"]="application/json";E.a.CancelToken;E.a.interceptors.request.use((function(e){return e}));E.a.interceptors.response.use((function(e){return"error"in e?(s.b.error("An error occured. Try again later"),Promise.reject()):e}),(function(e){console.error(e);var a="An error occured. Try again later";if(e.response){var t="string"===typeof e.response.data&&e.response.data.match(/<p>(.*)<\/p>/),n=t&&t.length>1&&t[1];a=Wt.a.get(e,"response.data.message")||n||"An error occured. Try again later"}return s.b.error(a),Promise.reject(Object(je.a)({},e))}));var Ut=function(){document.title="UNSW Treats";var e=r.a.useState(localStorage.getItem("token")),a=Object(u.a)(e,2),t=a[0],n=a[1];function l(e,a){localStorage.setItem("token",e),localStorage.setItem("uId",a),n(e)}return r.a.createElement(w,{value:t},r.a.createElement(m.a,null,r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/login",render:function(e){return r.a.createElement(pt,Object.assign({},e,{setAuth:l}))}}),r.a.createElement(d.b,{exact:!0,path:"/register",render:function(e){return r.a.createElement(vt,Object.assign({},e,{setAuth:l}))}}),r.a.createElement(d.b,{exact:!0,path:"/forgot_password",component:yt}),r.a.createElement(d.b,{exact:!0,path:"/reset_password",component:St}),r.a.createElement(Rt,{exact:!0,path:"/",component:sa}),r.a.createElement(Rt,{path:"/profile/:profile",component:Nt}),r.a.createElement(Rt,{path:"/channel/:channelId",component:ct}),r.a.createElement(Rt,{path:"/dm/:dmId",component:it}),r.a.createElement(Rt,{path:"/search/:queryStr",component:Lt}),r.a.createElement(Rt,{path:"/search",component:Lt}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var At=t(98),zt=t(175),qt=Object(zt.a)({palette:{primary:{main:"#556cd6"},secondary:{main:"#19857b"},error:{main:At.a.A400},background:{default:"#fff"}}}),Ht=t(24),Bt=t(174);c.a.render(r.a.createElement(i.a,{theme:qt},r.a.createElement(Ht.a,{utils:Bt.a},r.a.createElement(o.a,null),r.a.createElement(Ut,null),r.a.createElement(s.a,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[201,1,2]]]);
//# sourceMappingURL=main.618647d0.chunk.js.map